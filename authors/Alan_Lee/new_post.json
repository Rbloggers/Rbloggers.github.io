{"author": "Alan Lee", "id": ["http://rwepa.blogspot.com/2019/03/tableau-r.html"], "rblog_url": ["2019/03/27/Alan_Lee-tableau-r.html"], "date": ["2019-03-27"], "tags": [["Rserve", "tableau", "visualization"]], "title": ["Tableau \u8207 R \u6574\u5408"], "content": ["\u672c\u7bc7\u6587\u7ae0\u8aaa\u660e\u5982\u4f55\u5728 Tableau \u8edf\u9ad4\u4e2d\u4f7f\u7528 R \u8a9e\u8a00\u5efa\u7acb\u6a21\u578b,\u4ee5\u63d0\u4f9b\u6c7a\u7b56\u652f\u63f4.<br /><br /><div class=\"separator\" style=\"clear: both; text-align: left;\"><a href=\"https://3.bp.blogspot.com/-BlQzEg5pkWc/XJtguaaAyvI/AAAAAAAAWN4/z9wZxhB8mLARtmHpcJyzAMq3fs7gK0MCgCLcBGAs/s1600/8.iris_final.png\" imageanchor=\"1\" style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"850\" data-original-width=\"1600\" height=\"170\" src=\"https://3.bp.blogspot.com/-BlQzEg5pkWc/XJtguaaAyvI/AAAAAAAAWN4/z9wZxhB8mLARtmHpcJyzAMq3fs7gK0MCgCLcBGAs/s320/8.iris_final.png\" width=\"320\" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /># Tableau<br /># R<br /># Rserve \u5957\u4ef6<br /># Clustering<br /># kmeans<br /><br />\u53c3\u8003\u8cc7\u6599:<br /><a href=\"https://github.com/rwepa/tableaur\" target=\"_blank\">https://github.com/rwepa/tableaur</a><br /><br /><br />1. \u4e0b\u8f09\u4e26\u5b89\u88dd Tableau 14\u5929\u7248\u672c<br /><a href=\"https://www.tableau.com/products/trial\" target=\"_blank\">https://www.tableau.com/products/trial</a><br /><br />2. \u4e0b\u8f09\u4e26\u5b89\u88dd&nbsp;R\u8a9e\u8a00/RStudio\u8edf\u9ad4<br /><a href=\"https://www.r-project.org/\" target=\"_blank\">https://www.r-project.org/</a><br /><a href=\"https://www.rstudio.com/products/rstudio/download/#download\" target=\"_blank\">https://www.rstudio.com/products/rstudio/download/#download</a><br /><br />3. \u5b89\u88dd Rserve \u5957\u4ef6, \u5b89\u88dd\u5957\u4ef6\u50c5\u9700\u5b89\u88dd\u4e00\u6b21\u5373\u53ef.<br /><span style=\"background-color: #eeeeee;\">install.packages(\"Rserve\")</span><br /><br />4. \u8f09\u5165 Rserve \u5957\u4ef6<br /><span style=\"background-color: #eeeeee;\">library(Rserve)</span><br /><br />5. \u555f\u52d5 Rserve \u5957\u4ef6<br /><span style=\"background-color: #eeeeee;\">Rserve()</span><br /><br />\u53c3\u8003\u4e0b\u5716\u5b89\u88dd\u8207\u57f7\u884c\u7d50\u679c. \u6bcf\u6b21\u4f7f\u7528\u7686\u9808\u5b8c\u6210\u6b64\u8a2d\u5b9a.<br /><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://4.bp.blogspot.com/-xMO295WxxXM/XJrn-JDU5WI/AAAAAAAAWMo/APA-NL6hIrMnFMF3sIZPw9U0T6gQvEVrACLcBGAs/s1600/0.rserveinstall.png\" imageanchor=\"1\" style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"739\" data-original-width=\"899\" height=\"328\" src=\"https://4.bp.blogspot.com/-xMO295WxxXM/XJrn-JDU5WI/AAAAAAAAWMo/APA-NL6hIrMnFMF3sIZPw9U0T6gQvEVrACLcBGAs/s400/0.rserveinstall.png\" width=\"400\" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />6. \u8a2d\u5b9a Tableau \u8207 R \u9023\u7d50<br />Tableau \\ Help \\ Settings and Performance \\ Manage External Service Connection<br /><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://4.bp.blogspot.com/-wMRpKG-6Uok/XJroRBuLuuI/AAAAAAAAWMw/sq7_mCCV660BhkQ4R9BLDqGDspob8s8XACLcBGAs/s1600/1.tableauandR.png\" imageanchor=\"1\" style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"572\" data-original-width=\"870\" height=\"262\" src=\"https://4.bp.blogspot.com/-wMRpKG-6Uok/XJroRBuLuuI/AAAAAAAAWMw/sq7_mCCV660BhkQ4R9BLDqGDspob8s8XACLcBGAs/s400/1.tableauandR.png\" width=\"400\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">7. External Service Connection \u8996\u7a97 \\ Server \u9078\u9805\u9ede\u9078 localhost \\ \u6309 Test Connection.</div><br /><div class=\"separator\" style=\"clear: both; text-align: left;\"><a href=\"https://2.bp.blogspot.com/-0qILfL1hEr4/XJroTLeXOLI/AAAAAAAAWM0/gKC7D0TCipQP1DCgg7r1qP7paPdlXfxHACLcBGAs/s1600/2.server.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"453\" data-original-width=\"436\" height=\"320\" src=\"https://2.bp.blogspot.com/-0qILfL1hEr4/XJroTLeXOLI/AAAAAAAAWM0/gKC7D0TCipQP1DCgg7r1qP7paPdlXfxHACLcBGAs/s320/2.server.png\" width=\"307\" /></a></div><br />8. Tableau \u8996\u7a97\u6703\u986f\u793a Successfully connected to the external service. \u8868\u793aTableau \u8207 R \u9023\u63a5\u6210\u529f. \u6ce8\u610f: \u6bcf\u6b21\u555f\u52d5Tableau \u9023\u7d50 R \u7686\u9808\u9032\u884c\u8a2d\u5b9a.<br /><div class=\"separator\" style=\"clear: both; text-align: left;\"><a href=\"https://3.bp.blogspot.com/--bcR6hrmlDM/XJrpHFPi7BI/AAAAAAAAWNA/QLnbDuMlbvQZEBGVqKC7xd1aST8vE1v5gCLcBGAs/s1600/3.connect.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"182\" data-original-width=\"548\" height=\"132\" src=\"https://3.bp.blogspot.com/--bcR6hrmlDM/XJrpHFPi7BI/AAAAAAAAWNA/QLnbDuMlbvQZEBGVqKC7xd1aST8vE1v5gCLcBGAs/s400/3.connect.png\" width=\"400\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">9. \u5c07 iris \u8cc7\u6599\u96c6\u532f\u51fa\u6210 iris.csv \u4ee5\u63d0\u4f9b Tableau \u532f\u5165\u8cc7\u6599.</div><div class=\"separator\" style=\"clear: both; text-align: left;\">RStudio\u8f38\u5165&nbsp;<span style=\"background-color: #eeeeee;\">write.table(iris, file=\"iris.csv\", sep=\",\", row.names=FALSE)</span></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">10. Tableau \u532f\u5165 iris.csv.</div><div class=\"separator\" style=\"clear: both; text-align: left;\">Tableau \\ Connect \\ Text file \\ iris.csv \\ \u958b\u555f</div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://4.bp.blogspot.com/--np9m2szYQw/XJrwiJtY4nI/AAAAAAAAWNM/rcsDfqMPb8UoR_plL5WaA923QGRNWGAHwCLcBGAs/s1600/4.tableau_iris.png\" imageanchor=\"1\" style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"573\" data-original-width=\"1150\" height=\"198\" src=\"https://4.bp.blogspot.com/--np9m2szYQw/XJrwiJtY4nI/AAAAAAAAWNM/rcsDfqMPb8UoR_plL5WaA923QGRNWGAHwCLcBGAs/s400/4.tableau_iris.png\" width=\"400\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">11. \u9078\u53d6 Sheet1 \\ Measures \u7a7a\u767d\u8655 \\ \u53f3\u9375 \\ Create Calculated Field</div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"https://1.bp.blogspot.com/-RYJrRW7-6No/XJrxcID1WtI/AAAAAAAAWNU/Q0W9wq1GRvYISC-2xiTGuG-QOWsM3IZUACLcBGAs/s1600/5.CreateCalculatedField.png\" imageanchor=\"1\" style=\"clear: left; float: left; margin-bottom: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"312\" data-original-width=\"596\" height=\"208\" src=\"https://1.bp.blogspot.com/-RYJrRW7-6No/XJrxcID1WtI/AAAAAAAAWNU/Q0W9wq1GRvYISC-2xiTGuG-QOWsM3IZUACLcBGAs/s400/5.CreateCalculatedField.png\" width=\"400\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">12. Create Calculated Field \u8996\u7a97 \\ \u540d\u7a31\u6539\u70ba \u96c6\u7fa4 \u65b0\u589e\u4ee5\u4e0b\u5167\u5bb9</div><div class=\"separator\" style=\"clear: both;\">SCRIPT_INT(<span style=\"background-color: yellow;\">'set.seed(168);</span></div><div class=\"separator\" style=\"clear: both;\"><span style=\"background-color: yellow;\">result &lt;- kmeans(data.frame(.arg1,.arg2,.arg3,.arg4), 3);</span></div><div class=\"separator\" style=\"clear: both;\"><span style=\"background-color: yellow;\">result$cluster;'</span>,&nbsp;</div><div class=\"separator\" style=\"clear: both;\"><span style=\"background-color: #cfe2f3;\">SUM([Sepal.Length]),SUM([Sepal.Width]),SUM([Petal.Length]),SUM([Petal.Width])</span>)</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\"></div><ol><li>\u672c\u4f8b\u4f7f\u7528\u96c6\u7fa4 kmeans \u6f14\u7b97\u6cd5. result\u70bakmeans \u6f14\u7b97\u6cd5\u7684\u8a08\u7b97\u7d50\u679c. result$cluster \u56de\u50b3\u662f\u96c6\u7fa4\u6574\u6578\u7de8\u865f, \u56e0\u6b64\u4f7f\u7528 SCRIPT_INT \u6574\u6578 Tableau \u51fd\u6578.</li><li>\u9ec3\u8272 R \u7a0b\u5f0f\u4ee5 ' ' \u6a19\u8a3b, \u4e09\u884cR\u7a0b\u5f0f\u4ee5 ; \u5340\u9694.</li><li>\u56db\u500b\u6b04\u4f4d\u540d\u7a31\u4ee5SUM\u51fd\u6578\u8868\u793a, \u4e2d\u9593\u4ee5 , \u5340\u9694.</li></ol><div class=\"separator\" style=\"clear: both; text-align: left;\"></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><a href=\"https://3.bp.blogspot.com/-UuvgNAAEf0Y/XJsnY3wW9LI/AAAAAAAAWNk/k-kTAK0Hv5Mlwrc5-TACWljNyxFoYtmGgCEwYBhgL/s1600/7.Create%2BCalculated%2BField.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" data-original-height=\"374\" data-original-width=\"1079\" height=\"137\" src=\"https://3.bp.blogspot.com/-UuvgNAAEf0Y/XJsnY3wW9LI/AAAAAAAAWNk/k-kTAK0Hv5Mlwrc5-TACWljNyxFoYtmGgCEwYBhgL/s400/7.Create%2BCalculated%2BField.png\" width=\"400\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">13. \u9078\u53d6 \u96c6\u7fa4 \\ \u53f3\u9375 \\&nbsp;Convert to Discrete \u5c07\u8cc7\u6599\u8f49\u63db\u70ba\u96e2\u6563\u578b\u8b8a\u6578.</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">14. \u5efa\u7acb\u8996\u89ba\u5316\u96c6\u7fa4\u7d50\u679c.</div><div class=\"separator\" style=\"clear: both; text-align: left;\"></div><ol><li>\u5c07 Petal.Length \u62d6\u66f3\u81f3 Columns</li><li>\u5c07 Petal.Width \u62d6\u66f3\u81f3 Rows</li><li>\u5c07 \u96c6\u7fa4 \u62d6\u66f3\u81f3 Color</li></ol><br /><div class=\"separator\" style=\"clear: both; text-align: left;\"># end</div>"]}